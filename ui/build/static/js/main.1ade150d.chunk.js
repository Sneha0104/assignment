(this.webpackJsonpui=this.webpackJsonpui||[]).push([[0],{56:function(e,t,n){},57:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n.n(a),o=n(38),s=n.n(o),c=(n(56),n(8)),r=n(13),l=(n.p,n(57),n(88)),u=n(89),m=n(94),d=n(92),f=n(36),b=n.n(f),h=n(5);function j(e){return Object(h.jsx)(u.a,{sx:{minWidth:275},style:{backgroundColor:"#edf5e1"},children:Object(h.jsxs)(m.a,{children:[Object(h.jsxs)(d.a,{variant:"h5",component:"div",children:[e.firstName," ",e.lastName]}),Object(h.jsx)(d.a,{color:"text.secondary",children:e.email}),Object(h.jsx)(d.a,{sx:{mb:1.5},color:"text.secondary",children:e.phoneNumber}),Object(h.jsxs)(d.a,{variant:"body2",children:["Closest Distance: ",e.closestDistance]}),Object(h.jsxs)(d.a,{variant:"body2",children:["Violation Date: ",b()(e.violationTime).format("L")]}),Object(h.jsxs)(d.a,{variant:"body2",children:["Violation Time: ",b()(e.violationTime).format("LTS")]}),Object(h.jsxs)(d.a,{variant:"body2",children:["No of Violations: ",e.violationTimes.toString()]})]})})}var v=n(93),x=n(91);var p=function(){var e=i.a.useState([]),t=Object(r.a)(e,2),n=t[0],a=t[1],o=i.a.useState([]),s=Object(r.a)(o,2),u=s[0],m=s[1];i.a.useEffect((function(){var e=setInterval((function(){l.a.get("http://localhost:3001/drones").then((function(e){var t=e.data.drone;a(Object(c.a)(t))}))}),2e3);return function(){clearInterval(e)}}),[]),i.a.useEffect((function(){n&&n.map((function(e){var t=Math.sqrt(Math.pow(Math.abs(e.positionX-25e4),2)+Math.pow(Math.abs(e.positionY-25e4),2));t<1e5&&d(e.serialNumber,t)}))}),[n]),i.a.useEffect((function(){var e=setInterval((function(){m(u.filter((function(e){return Date.now()-e.violationTime<6e5})))}),5e3);return function(){clearInterval(e)}}),[u]);var d=function(e,t){l.a.get("http://localhost:3001/pilots/".concat(e)).then((function(n){var a=n.data,i={firstName:a.firstName,lastName:a.lastName,email:a.email,phoneNumber:a.phoneNumber,closestDistance:t,violationTime:Date.now(),violationTimes:1,serialNumber:e};if(void 0!=u.find((function(t){return t.serialNumber===e}))){console.log("found");var o=u.find((function(t){return t.serialNumber===e}));void 0!=o&&(i.violationTimes=o.violationTimes+1),void 0!=o&&i.closestDistance>o.closestDistance&&(i.closestDistance=o.closestDistance),m(u.map((function(e){return e.serialNumber==i.serialNumber?i:(console.log("return"),e)})))}else console.log("not-found"),m(u.concat([i]))})).catch((function(e){return e}))};return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)("header",{className:"Header",children:Object(h.jsx)("h1",{children:"Violators Information"})}),Object(h.jsx)("div",{className:"Body",children:Object(h.jsx)(v.a,{sx:{flexGrow:1},children:Object(h.jsx)(x.a,{container:!0,spacing:5,children:u.map((function(e,t){return Object(h.jsx)(x.a,{item:!0,xs:3,children:Object(h.jsx)(j,{firstName:e.firstName,lastName:e.lastName,email:e.email,phoneNumber:e.phoneNumber,closestDistance:e.closestDistance,violationTime:e.violationTime,violationTimes:e.violationTimes},t)})}))})})})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,95)).then((function(t){var n=t.getCLS,a=t.getFID,i=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),a(e),i(e),o(e),s(e)}))};s.a.createRoot(document.getElementById("root")).render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(p,{})})),N()}},[[67,1,2]]]);
//# sourceMappingURL=main.1ade150d.chunk.js.map